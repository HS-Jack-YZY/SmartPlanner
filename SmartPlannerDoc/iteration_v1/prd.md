# SmartPlanner 产品需求文档 (PRD)
版本：1.0.0
最后更新：2024-12-09
状态：草稿

## 1. 文档信息
- 文档状态：草稿
- 产品负责人：[HS_Jack_YZY]
- 相关技术文档：
  - tdd.md
  - DatabaseDesignV1.md

## 2. 产品概述

### 2.1 产品愿景
打造一款智能化的个人及团队时间管理工具，通过AI学习用户习惯，优化时间分配，提高工作效率，实现工作与生活的平衡。

### 2.2 目标用户群
1. 主要用户群：
   - 远程办公员工
   - 自由职业者
   - 需要高效时间管理的专业人士
   
2. 次要用户群：
   - 企业管理者
   - 项目团队
   - 学生群体

### 2.3 核心价值主张
- 智能化时间管理
- 个性化计划优化
- 工作效率追踪
- 团队协作支持

### 2.4 产品定位
一款基于AI的智能时间管理助手，不仅是简单的日程管理工具，更是您的私人效率顾问。

## 3. 用户旅程地图

### 3.1 新用户的首次使用到日常应用

#### 第一阶段：初始设置
时间：首次使用APP（周日晚）

##### 用户行为
1. 创建计划区间模板
   - 创建"工作区间"（紫色）
   - 创建"个人区间"（绿色）
2. 设置类别体系
   - 创建"英语"类别（蓝色）
   - 添加"雅思"子类别（浅蓝色）
3. 创建计划模板
   - 创建"雅思阅读"计划
   - 设置提醒和非固定时间属性

##### 用户感受
😊 期待：终于可以更好地管理时间了
😓 疑虑：设置过程稍显复杂

##### 痛点
- 首次创建模板需要较多配置
- 类别体系的设置需要提前规划

##### 机会
- 提供模板推荐
- 添加快速设置向导
- 提供类别模板

#### 第二阶段：计划排期
时间：周日晚上

##### 用户行为
1. 设置区间实例
   - 将"工作区间"拖至工作日的8:00-17:00
   - 设置周一到周五的重复规则
2. 安排具体计划
   - 将"雅思阅读"拖入周一的工作区间
   - 设置重复规则和提醒时间

##### 用户感受
👍 满意：拖拽操作很直观
🤔 思考：如何最优安排时间

##### 痛点
- 需要考虑计划之间的合理间隔
- 重复规则设置可能需要调整

##### 机会
- 提供智能时间推荐
- 添加计划模板组合功能

#### 第三阶段：计划执行（周一）
时间：工作日早上

##### 用户行为
1. 计划开始（8:00）
   - 收到"雅思阅读"提醒
   - 点击"开始"按钮
   - 查看计时器开始计时
2. 计划中断（8:30）
   - 点击"暂停"按钮
   - 处理紧急事务
   - 点击"继续"按钮
3. 计划完成（9:15）
   - 点击"完成"按钮
   - 超出预计时间15分钟

##### 用户感受
👨‍💻 专注：计时功能帮助保持专注
😅 压力：计划超时带来一些压力

##### 痛点
- 计划中断影响后续安排
- 实际用时超出预期

##### 机会
- 提供中断原因快速记录
- 智能调整后续计划时间

#### 第四阶段：计划调整
时间：工作日上午

##### 用户行为
1. 查看计划影响
   - 检查后续计划时间调整
   - 查看AI优化建议
2. 确认调整方案
   - 同意压缩后续计划时间
   - 或将部分计划移至下个工作区间

##### 用户感受
😌 安心：系统自动处理时间调整
🎯 明确：知道如何调整后续安排

##### 痛点
- 需要快速决定调整方案
- 可能影响其他计划

##### 机会
- 提供多个调整方案选择
- 添加快速调整模板

#### 第五阶段：数据回顾
时间：工作日晚上

##### 用户行为
1. 查看今日统计
   - 检查计划完成情况
   - 查看各类别时间分配
2. 分析效率数据
   - 查看中断影响
   - 了解时间利用率

##### 用户感受
📊 好奇：了解自己的时间利用情况
💡 启发：发现可以改进的地方

##### 痛点
- 需要直观的数据展示
- 希望得到具体改进建议

##### 机会
- 提供个性化效率报告
- 添加智能优化建议

### 3.2 用户旅程地图的启示

#### 1. 产品优化方向
- 简化首次使用流程
- 提供智能模板推荐
- 增强计划调整灵活性
- 改进数据可视化展示

#### 2. 重点关注领域
- 用户引导体验
- 智能化推荐
- 中断处理机制
- 数据分析报告

#### 3. 功能优先级建议
- P0：核心计划管理功能
- P1：智能调整建议
- P2：数据分析与报告
- P3：高级自定义功能

## 4. 市场分析

### 4.1 用户痛点
1. 市面上的应用只能提醒计划时间,无法追踪实际执行情况
2. 工作时间分配不合理,缺乏执行数据支撑
3. 计划执行频繁被打断,无法记录中断原因和影响
4. 团队协作时间难以协调,缺乏成员实际工作时间数据
5. 现有应用无法根据历史执行数据智能调整计划安排


### 4.2 竞品分析
1. 传统日历应用
   - 优势：使用简单
   - 劣势：缺乏智能化特性
   
2. 项目管理工具
   - 优势：团队协作功能强大
   - 劣势：个人时间管理功能薄弱

### 4.3 市场机会
- 远程办公趋势增长
- AI技术日益成熟
- 效率管理需求上升

## 5. 功能需求

### 5.1 核心功能

#### 5.1.1 计划区间管理
- 功能描述：
  - 创建不同类型的计划区间模板(如工作区间、个人区间)
  - 设置区间名称（如工作区间、个人区间）
  - 将区间模板拖动到日历视图中生成区间实例
  - 支持将不同类型的计划拖动到对应类型的区间中
  - 智能管理区间内计划实例的时间分配
  - 自动处理计划超时(压缩或移动到下一个同类型区间)
  - 可视化区间实例边界和时间范围
  
- 用户价值：
  - 更好地区分和管理工作与个人时间
  - 提高计划分类的可视性和条理性
  - 灵活的时间调整和智能计划重排
  - 减少计划冲突和时间浪费
  - 帮助实现工作与生活的平衡

#### 5.1.2 计划系统
- 功能描述：
  - 创建和管理计划模板
    - 设置计划名称、类别等基本属性
    - 配置是否为固定时间计划
    - 设置提醒时间和方式
    - 记录用户习惯数据
      - 计划实例的实际执行时长
      - 计划实例的完成度
      - 计划实例的中断原因
      - 计划实例的效率评分
  - 计划实例管理
    - 拖拽模板生成计划实例
    - 单独修改实例属性（如提醒时间）
    - 继承模板的用户习惯数据
  - 类别系统
    - 创建多级类别结构
    - 设置类别颜色和属性
    - 支持数据分析和统计
  - 智能时间调整
    - 基于用户习惯数据智能分配时间
    - 自动处理计划超时
    - 压缩或移动后续计划
    - 跨区间智能调度
  
- 用户价值：
  - 高效创建和管理重复性计划
  - 基于历史数据智能调整计划时间
  - 通过类别系统实现计划分类管理
  - 智能化处理计划时间冲突
  - 提供计划执行数据分析
  - 平衡工作与个人时间安排

#### 5.1.3 智能计划分配
- 功能描述：
  - 拖拽式计划分配
    - 支持将计划模板拖拽到对应类型区间
    - 自动识别计划类型与区间匹配度
  - 智能时间管理
    - 基于历史数据预估计划实际耗时
    - 自动处理计划超时情况
    - 智能压缩或转移后续计划
  - 区间类型管理
    - 支持创建工作/个人等不同类型区间
    - 区分不同类型计划的分配规则
  - AI辅助决策
    - 提供最优计划时间建议
    - 智能检测并预警时间冲突
    - 自动优化区间内计划排序
  
- 用户价值：
  - 实现工作与生活时间的清晰分离
  - 提供灵活的计划调整机制
  - 减少计划冲突和时间浪费
  - 优化计划执行效率
  - 平衡工作与个人时间安排
  - 降低时间管理的心智负担

#### 5.1.4 计划追踪系统
- 功能描述：
  - 计划执行状态管理
    - 开始/跳过/延后选项
    - 暂停/继续/完成功能
    - 记录实际开始和结束时间
    - 记录暂停开始和结束时间
  - 计划进度追踪
    - 实时显示计划持续时间
    - 显示暂停持续时间
    - 记录计划完成状态
  - 计划变更记录
    - 跳过原因记录
    - 延后时间记录
    - 暂停原因分析
  - 执行数据统计
    - 计划完成率统计
    - 计划延后率分析
    - 暂停频率分析
    - 效率报告生成
  
- 用户价值：
  - 灵活管理计划执行状态
  - 准确追踪计划执行过程
  - 及时了解计划进度
  - 掌握个人执行效率
  - 优化时间管理策略
  - 提供数据支持的改进建议

### 5.2 扩展功能（第一次迭代不包含）

#### 5.2.1 团队协作功能
- 功能描述：
  - 团队计划共享
  - 工作量可视化
  - 效能分析报告
  - 远程协作支持
  
- 用户价值：
  - 提升团队协作效率
  - 优化资源分配
  - 提供管理决策支持

#### 5.2.2 数据分析与报告
- 功能描述：
  - 个人效能分析
  - 趋势分析
  - 改进建议生成
  
- 用户价值：
  - 量化工作成效
  - 发现效率瓶颈
  - 指导改进方向

## 6. 非功能需求

### 6.1 性能要求
- 应用启动时间 < 3秒
- 页面响应时间 < 1秒
- 数据同步延迟 < 5秒
- 支持离线操作

### 6.2 可用性要求
- 符合iOS设计规范
- 支持深色模式
- 提供新手引导
- 操作步骤简化
- 支持不同语言切换

### 6.3 安全要求
- 数据加密存储
- 用户隐私保护
- 权限分级管理
- 敏感数据脱敏

### 6.4 兼容性要求
- 支持iOS 15.0及以上版本
- 支持iPhone/iPad/Mac（第一次迭代只支持iPhone）
- 支持多设备同步

### 6.5 UI/UX设计规范

#### 6.5.1 设计原则
- 遵循Apple Human Interface Guidelines
- 保持简约、直观的设计风格
- 确保视觉层级清晰
- 注重细节和动画过渡
- 保持一致的设计语言

#### 6.5.2 视觉设计规范

##### 配色方案
- 主色调：采用iOS系统默认蓝色 (#007AFF)
- 背景色：
  - 浅色模式：纯白 (#FFFFFF)
  - 深色模式：系统深色背景 (#000000)
- 文字颜色：
  - 主要文字：系统黑/白
  - 次要文字：系统灰色
  - 强调文字：主色调
- 计划区间颜色：
  - 工作区间：系统蓝色
  - 个人区间：系统紫色
  - 其他区间：系统预设颜色

##### 字体规范
- 标题：SF Pro Display
  - 大标题：20pt, Bold
  - 中标题：17pt, Semibold
  - 小标题：15pt, Medium
- 正文：SF Pro Text
  - 主要文本：15pt, Regular
  - 次要文本：13pt, Regular
  - 辅助文本：12pt, Regular

##### 间距规范
- 导航栏高度：44pt
- 标准边距：16pt
- 元素间距：8pt
- 列表项高度：44pt
- 按钮高度：44pt

##### 图标规范
- 使用SF Symbols系统图标
- 保持图标风格统一
- 图标大小：
  - 导航栏：22pt
  - 工具栏：25pt
  - 列表项：20pt

#### 6.5.3 交互设计规范

##### 日历视图
- 完全采用iOS原生日历的交互模式
- 视图切换：
  - 支持月/周/日视图切换
  - 使用手势滑动切换日期
  - 双指缩放切换视图模式
- 时间轴：
  - 15分钟为最小刻度
  - 支持上下滑动浏览
  - 当前时间线实时更新
- 计划区间：
  - 支持拖拽调整时间
  - 边缘拖拽改变持续时间
  - 点击展开详情
  - 长按显示快捷操作菜单

##### 手势操作
- 左右滑动：切换日期
- 上下滑动：滚动时间轴
- 捏合手势：切换视图模式
- 长按手势：显示上下文菜单
- 拖拽手势：移动和调整计划

##### 动画效果
- 视图切换：平滑过渡动画
- 计划拖拽：实时跟随动画
- 时间调整：流畅的伸缩动画
- 列表滚动：自然的弹性效果
- 状态切换：渐变过渡效果

##### 反馈机制
- 触感反馈：
  - 计划创建完成
  - 时间调整确认
  - 重要操作确认
- 视觉反馈：
  - 点击状态变化
  - 拖拽状态指示
  - 操作结果提示
- 声音反馈：
  - 计划开始/结束
  - 重要提醒通知

#### 6.5.4 界面布局

##### 主界面
- 顶部：导航栏
  - 左侧：设置按钮
  - 中间：日期选择器
  - 右侧：视图切换按钮
- 中部：日历视图
  - 支持月/周/日切换
  - 显示计划区间和计划
- 底部：工具栏
  - 快速添加按钮
  - 视图切换标签
  - 搜索功能

##### 计划详情页
- 顶部：导航栏
  - 返回按钮
  - 页面标题
  - 编辑按钮
- 内容区：
  - 计划基本信息
  - 时间设置
  - 提醒设置
  - 重复规则
  - 备注信息
- 底部：
  - 删除按钮（需确认）
  - 保存按钮

##### 新建/编辑页面
- 采用全屏模态视图
- 表单布局：
  - 分组列表样式
  - 清晰的分隔线
  - 适当的空白间距
- 键盘适配：
  - 自动调整布局
  - 支持键盘快捷操作

## 7. 数据指标

### 7.1 核心指标
- DAU（日活用户数）
- 用户计划完成率
- 计划执行准时率
- 用户留存率

### 7.2 业务指标
- 团队功能使用率
- 企业用户转化率
- 高频功能使用率
- 用户反馈评分

## 8. 发布计划

### 8.1 第一轮迭代（4周）
1. 周期：2024 Q1
2. 核心功能：
   - 基础框架搭建
   - 日历视图开发
   - 计划管理功能
   - 数据持久化

### 8.2 后续迭代
1. 第二轮迭代：
   - AI功能集成
   - 数据分析系统
   
2. 第三轮迭代：
   - 团队协作功能
   - 企业版特性

## 9. 附录

### 9.1 术语表
- 计划区间：时间管理的基本单位
- 计划模板：可重复使用的计划配置
- 计划实例：具体的执行计划
- 类别：计划分类
- 效能分析：基于数据的工作效率分析

### 9.2 修订历史
| 版本  | 日期       | 修改内容           | 作者   |
|------|------------|-------------------|--------|
| 1.0.0| 2024-12-09| 初始版本创建        | [HS_Jack_YZY] |

### 9.3 相关文档
- 技术设计文档
- 数据库设计文档
- UI设计规范